{{- define "main" }}
<style>
    i[id*="post_meta_style"] {
        display: flex;
        align-items: center;
        margin: 0 0 10px 0;
    }
    
    /* ÊñáÁ´†ÂÜÖÂÆπÂå∫Âüü‰ºòÂåñ */
    .post-content p {
        margin-bottom: 1.2rem;
    }
    
    .post-content h2 {
        margin-top: 2.5rem;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid #f0f0f0;
    }
    
    .post-content h3 {
        margin-top: 2rem;
        margin-bottom: 0.75rem;
    }
    
    .post-content ul, .post-content ol {
        margin-bottom: 1.2rem;
        padding-left: 2rem;
    }
    
    .post-content li {
        margin-bottom: 0.5rem;
    }
    
    .post-content blockquote {
        border-left: 4px solid #667eea;
        padding-left: 1.5rem;
        margin: 1.5rem 0;
        color: #666;
        font-style: italic;
        background: #f8f9fa;
        padding: 1rem 1.5rem;
        border-radius: 4px;
    }
    
    .post-content table {
        width: 100%;
        border-collapse: collapse;
        margin: 1.5rem 0;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        border-radius: 8px;
        overflow: hidden;
    }
    
    .post-content table th {
        background: #667eea;
        color: white;
        padding: 0.75rem;
        text-align: left;
        font-weight: 600;
    }
    
    .post-content table td {
        padding: 0.75rem;
        border-bottom: 1px solid #f0f0f0;
    }
    
    .post-content table tr:hover {
        background: #f8f9fa;
    }
</style>

<article class="post-single" style="background: #fff; border-radius: 16px; padding: 2.5rem; box-shadow: 0 4px 16px rgba(0,0,0,0.08); margin-bottom: 2rem;">
    <div id="single-content">
        <header class="post-header" style="border-bottom: 2px solid #f0f0f0; padding-bottom: 1.5rem; margin-bottom: 2rem;">
            {{ partial "breadcrumbs.html" . }}
            <h1 class="post-title" style="font-size: 2.5rem; font-weight: 700; line-height: 1.3; margin: 1rem 0; color: #2c3e50;">
                {{ .Title }}
                {{- if .Draft }}<sup><span class="entry-isdraft">&nbsp;&nbsp;[draft]</span></sup>{{- end }}
            </h1>
            {{- if .Description }}
            <div class="post-description">
                {{ .Description }}
            </div>
            {{- end }}
            {{- if not (.Param "hideMeta") }}
            <div class="post-meta">
                {{- partial "post_meta.html" . -}}
                <span style="opacity: 0.8; display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;">
                    <span id="post_meta_style_7" style="display: flex; align-items: center; gap: 0.3rem;">
                        <span class="fa fa-eye"></span>
                        <span id="busuanzi_container_page_pv">
                            <span id="busuanzi_value_page_pv">0</span>
                        </span>
                    </span>
                    <span id="like-container" style="display: flex; align-items: center; gap: 0.3rem; cursor: pointer; user-select: none;">
                        <span class="fa fa-heart" id="like-icon" style="color: #ccc; transition: all 0.3s;"></span>
                        <span id="like-count">0</span>
                    </span>
                    <span id="post_meta_style_8" style="display: flex; align-items: center; gap: 0.3rem;">
                        <span class="fa fa-commenting-o"></span>
                        <span id="comment_count">0</span>
                    </span>
                </span>
                {{- partial "translation_list.html" . -}}
                {{- partial "edit_post.html" . -}}
                {{- partial "post_canonical.html" . -}}
            </div>
            {{- end }}
        </header>
        {{- $isHidden := .Params.cover.hidden | default .Site.Params.cover.hiddenInSingle | default
        .Site.Params.cover.hidden }}
        {{- partial "cover1.html" (dict "cxt" . "IsHome" false "isHidden" $isHidden) }}
        {{- if (.Param "ShowToc") }}
        {{- partial "toc.html" . }}
        {{- end }}

        {{- if .Content }}
        <div class="post-content" style="line-height: 1.8; font-size: 1.05rem; color: #444;">
            {{- if not (.Param "disableAnchoredHeadings") }}
            {{- partial "anchored_headings.html" .Content -}}
            {{- else }}{{ .Content }}{{ end }}
        </div>
        {{- end }}

        {{- if .Param "reward" }}
        <div class="post-reward">
            <div style="padding: 0 0 0 0; margin: 0 0 0 0; width: 100%; font-size:16px; text-align: center;">
                <div id="QR" style="opacity: 0;">
                    <div id="wechat" style="display: inline-block">
                        <a class="fancybox" rel="group">
                            <img id="wechat_qr" src="{{ .Site.Params.WechatPay | absURL }}" alt="wechat_pay"></a>
                        <p>ÂæÆ‰ø°</p>
                    </div>
                    <div id="alipay" style="display: inline-block">
                        <a class="fancybox" rel="group">
                            <img id="alipay_qr" src="{{ .Site.Params.Alipay | absURL }}" alt="alipay"></a>
                        <p>ÊîØ‰ªòÂÆù</p>
                    </div>
                </div>
                <button id="rewardButton"
                        onclick="
                    var qr = document.getElementById('QR');
                    if (qr.style.opacity === '0') {
                        qr.style.opacity='1';
                    } else {
                        qr.style.opacity='0'
                    }"
                >
                    <span>üßß ÈºìÂä±</span>
                </button>
            </div>
        </div>
        {{- end }}

        <footer class="post-footer">
            <!--{{- if .Params.tags }}
            <ul class="post-tags">
                {{- range ($.GetTerms "tags") }}
                <li><a href="{{ .Permalink }}">{{ .LinkTitle }}</a></li>
                {{- end }}
            </ul>
            {{- end }}-->
            {{- if (.Param "ShowPostNavLinks") }}
            {{- partial "post_nav_links.html" . }}
            {{- end }}
            {{- if (and .Site.Params.ShowShareButtons (ne .Params.disableShare true)) }}
            {{- partial "share_icons.html" . -}}
            {{- end }}
        </footer>
    </div>

    {{- if (.Param "comments") }}
    {{- partial "comments.html" . }}
    {{- end }}
</article>

{{- end }}{{/* end main */}}

